<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rey User</title>
    <link rel="stylesheet" href="style_profile.css">
    <style>
        /* Hide all role-specific content by default */
        .admin1-only, .admin2-only, .user-only {
            display: none;
        }
    </style>
</head>
<body>

    <div class="container">
        
        <div class="theme-switcher-wrapper">
          <label class="theme-switcher" for="theme-toggle">
            <input type="checkbox" id="theme-toggle" />
            <div class="slider">
              <span class="icon-sun">‚òÄÔ∏è</span>
              <span class="icon-moon">üåô</span>
            </div>
          </label>
        </div>
        <h2>Welcome <span id="user-name">...</span>,</h2>
        <p>Your role is: <strong id="user-role">...</strong></p>
        <p>Your email is: <strong id="user-email">...</strong></p>
        <button id="btn-logout">Logout</button>
        
        <hr>

        <h3>Your Access Tools</h3>

        <div class="admin1-only">
            <button><a href="https://script.google.com/macros/s/AKfycbxqTNUJP5P26Yda-BxJstXLotVaWhmUd3l_fnUMdBpqQ4iLkSzKh-d-u7-1_hOmeezR/exec">Expense Tracker</a></button>
        </div>
        
        <div class="admin2-only">         
            <button><a href="Ref_Tools/Mail Drafter/maildraft.html">Mail drafter</a></button>
            <button><a href="Ref_Tools/Project_analysis/project_analysis.html">Project Analysis</a></button>
            <button><a href="Ref_Tools/Remainder/reminder.html">Remainder</a></button>
        </div>

        <div class="user-only">
            <button><a href="https://reydmdeveloper.github.io/Rey_pdf_t0_img/">PDF TO PNG/JPG</a></button>
            <button><a href="Ref_Tools/Unlock pdf/Unlockpdf.html">PDF Unlocker</a></button>
            <button><a href="Ref_Tools/Charater Palette/rey_character_palette.html">Character Palette</a></button>
        </div>
        
    </div>

    <script type="module" src="profile.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        
        // 1. Check for a saved theme in localStorage
        const savedTheme = localStorage.getItem('theme');
        
        // 2. Apply saved theme on load
        // If 'light' is saved, apply light-theme.
        // If 'dark' is saved (or nothing is saved), it defaults to dark.
        if (savedTheme === 'light') {
          body.classList.add('light-theme');
          themeToggle.checked = true;
        } else {
          body.classList.remove('light-theme'); // Default is dark
          themeToggle.checked = false;
        }
        
        // 3. Add listener for changes
        themeToggle.addEventListener('change', () => {
          if (themeToggle.checked) {
            // Switch to Light Mode
            body.classList.add('light-theme');
            localStorage.setItem('theme', 'light');
          } else {
            // Switch to Dark Mode
            body.classList.remove('light-theme');
            localStorage.setItem('theme', 'dark');
          }
        });
      });
    </script>
    </body> 
</html>
